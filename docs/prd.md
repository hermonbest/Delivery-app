Product Requirement Document (PRD)Project Name: Unified Delivery EcosystemVersion: 1.0 (MVP)Platform: React Native (Android Priority / iOS Compatible)Backend: Firebase (Auth, Firestore, Functions)1. Executive SummaryA centralized delivery application where customers browse a single unified catalog of items (aggregated from 3 locations). Orders are received by a central Admin who manually assigns them to employee drivers. Drivers must "Accept" assignments to update the status. Payment is Cash on Delivery (COD).2. User Roles & Core ResponsibilitiesA. The Customer (End User)Authentication: Must create an account (Email/Password or Phone Auth).Browsing: View a single, long list of available items (Search & Filter enabled).Cart: Add/Remove items.Checkout:Input Address (Pin on Map or Text).Dynamic Fee Calculation: App calculates delivery fee based on distance from the central hub/nearest store.Payment: Select "Cash on Delivery" (only option for MVP).Tracking: View simple status labels: Pending, Processing, Driver Assigned, Out for Delivery, Completed.B. The Admin (You/Manager)Inventory Management:Add/Edit/Delete items.Update prices and photos.Mark items as "Out of Stock" instantly.Order Management:View "Incoming Orders" list.View Customer Location on a map.Dispatch: Select an order $\rightarrow$ View list of available Drivers $\rightarrow$ Assign Driver.C. The Driver (Employee)Status: Toggle "On Duty" / "Off Duty".Assignment Flow:Receive Push Notification of new assignment.Action: Click "Accept Order" (Critical step: triggers notification to customer).Delivery Execution:View Customer details (Name, Phone, Address, Items, Total Price to collect).One-tap button to call Customer.One-tap button to open Google Maps navigation.Completion: specific "Mark as Delivered" button closes the order.3. Functional Requirements (The Logic)3.1 Inventory LogicUnified Database: All items exist in one collection products.Sync: Changes made by Admin reflect immediately on the Customer App (via Firestore real-time listeners).3.2 Pricing & FeesBase Formula: Base Fee + (Cost Per Km \* Distance).Note: Since there are 3 stores but the user sees one list, the distance is calculated from the Store Location nearest to the Customer (Geospatial query).3.3 The "Handshake" Protocol (Order Flow)Stage 1 (Pending): Customer places order. Admin sees it.Stage 2 (Assigned): Admin assigns Driver X. Order moves to "Awaiting Acceptance".Stage 3 (Processing/Started): Driver X clicks "Accept".System Action: Push Notification sent to Customer ("Your order is being prepared!").Stage 4 (Delivered): Driver collects cash and marks "Delivered".System Action: Order moves to "History".4. Technical Constraints & RequirementsMaps API: Google Maps SDK required for Geocoding (converting address to Lat/Lng) and Distance Matrix (calculating fee).Notifications: Firebase Cloud Messaging (FCM).Offline Mode: Drivers need to see order details even if internet drops momentarily, but must be online to complete status updates.5. Success MetricsSuccessful order flow from App to Admin to Driver without phone calls.Accurate distance fee calculation.< 2 seconds latency on Order status updates.
